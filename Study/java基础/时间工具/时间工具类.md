## String转Date

注意SimpleDateFormat不是线程安全的

```java
  public static void StringToDate() throws ParseException{
        String temp = "2021-05-29 17:48:56.309";
        Date date = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss.SSS").parse(temp);
        System.out.println(date);
    }
```

## Date转String

```java
 public static void DateToString() throws ParseException {
        System.out.println(new SimpleDateFormat("yyyy-MM-dd HH:mm:ss.SSS").format(new Date()));
    }
```

## 毫秒与Date

```java
public static void DateToString() throws ParseException {
       //获取当前时间的毫秒值，表示1970年1月1日上午8时整到现在的毫秒值
        new Date().toInstant().toEpochMilli()
        System.currentTimeMillis()
       //毫秒值转日期，在1970的基础上加上一年的毫秒值
       System.out.println(new Date(31536000000L));
}
```

## Date转LocalDateTime

```java
 public static void main(String[] args) throws IOException, ParseException {
        long currentTimeMillis = System.currentTimeMillis();
        Date date = new Date(currentTimeMillis);
        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss.SSS");
        LocalDateTime localDateTime = LocalDateTime.ofInstant(date.toInstant(), ZoneOffset.of("+8"));
        System.out.println(dateTimeFormatter.format(localDateTime));
        System.out.println(new SimpleDateFormat("yyyy-MM-dd HH:mm:ss.SSS").format(date));
    }
```

## LocalDateTime转Date

```java
LocalDateTime now = LocalDateTime.now();
        Date date = new Date(now.toInstant(ZoneOffset.of("+8")).toEpochMilli());
        System.out.println(date);
```

## 获取时间相关

```java
 public static void main(String[] args) throws IOException, ParseException {
        LocalDateTime now = LocalDateTime.now();
        System.out.println("年:"+now.getYear());
        System.out.println("月:"+now.getMonthValue());
        System.out.println("一个月的第几天:"+now.getDayOfMonth());
        System.out.println("一年的第几天:"+now.getDayOfYear());
        System.out.println("星期几:"+now.getDayOfWeek().getValue());
        System.out.println("时:"+now.getHour());
        System.out.println("分:"+now.getMinute());
        System.out.println("秒:"+now.getSecond());
        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss.SSS");
        String s = dateTimeFormatter.format(now);
        System.out.println("毫秒值:"+s.substring(s.lastIndexOf('.')+1));
        System.out.println(s);
    }
```

## 周数

```java
 public static void main(String[] args) throws IOException, ParseException {
        LocalDateTime now = LocalDateTime.of(2021,1,1,0,0,0);
        WeekFields weekFields = WeekFields.of(DayOfWeek.MONDAY,5);//一周以星期一为一周的第一天，最少要有5天才算一周
        System.out.println("一年的第几周:"+now.get(weekFields.weekOfYear()));
        //如果是第零周，那么就取去年的12月31号的周数为当前日期的周数
        LocalDateTime date = LocalDateTime.of(2020,12,31,0,0,0);
        System.out.println("一年的第几周:"+date.get(weekFields.weekOfYear()));
        System.out.println(now.getDayOfWeek().getValue());
    }
```

